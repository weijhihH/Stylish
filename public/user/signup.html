<html>
    <head>
        <title>Signup Page</title>
        <style>
            *{
                margin : 0;
            }
            </style>
    </head>
    <body>
        <h1>請填寫註冊表單</h1>
        <form type="POST" >
            Username: <input type="text" name="name" class="name" /> <br />
            email: <input type="text" name="email" class="email" /> <br />
            Password: <input type="password" name="password" class="password" /> <br />
            <input class = "button" type="button" value = "送出" />
            </br>
            <h2>Response result:</h2>
            </br>
            <p class ="responseText"></p>
        </form>

        <script>
        
		document.querySelector('.button').onclick = function(){
			let name      = document.querySelector('.name').value;
			let email     = document.querySelector('.email').value;
			let password  = document.querySelector('.password').value;
			let requestData = {
		        "name"      : name,
		        "email"     : email,
		        "password"  : password
		    }
		    let data = JSON.stringify(requestData);
			let xhr = new XMLHttpRequest();
			xhr.open("POST", "/api/1.0/user/signup", true);
			xhr.setRequestHeader("Content-Type", "application/json");
			xhr.onreadystatechange = function () {
			    if (xhr.readyState === 4 && xhr.status === 200) {
					document.querySelector('.responseText').innerText = xhr.responseText;
			    }
			};			
			xhr.send(data);
		}
        </script>
    </body>
</html>